\chapter{Concept}
\label{chap:concept}

The following chapter discusses all conceptual work that went into realizing Tinzenite.
We will first give an overview of the basic goals of this thesis.
Then we will discuss the dependencies we chose to base the system on.
Important for every piece of software is the core data model and API for updating said model.
Finally we will highlight the features and differences of each software aspect of the Tinzenite system.

\section{Basic Goals}

TODO: maybe move broad scope before features? But it builds on features... :P

\subsection{Features}

TODO: list features that I want to have.
These should come from and directly link to the existing software and their weaknesses and strengths.
The following is not yet the final list but should be a good start.
These features are system features, NOT single program features: these come below.

\begin{description}[leftmargin=2em,style=nextline,noitemsep,nolistsep]
\item[API]
    Design of an extensible API on which all communication between peers will be based.
    We will specifiy an API based on JSON encoded messages that will be sent as text messages via the Tox protocol.
\item[Peer to Peer Architecture]
    The complete software suite should run in a direct peer to peer mode to remove the requirement of third parties to facilitate data exchange and to remove the associated security risk.
    This includes the server client as it should be capable of exchanging data even with other server clients.
\item[Secure Transport]
    All communication between all clients should always be fully end to end encrypted.
\item[Client Encryption]
    Any client can be set to only retain an encrypted version of the data.
    In this case the keys for accessing said data are only stored between unencrypted clients.
\item[Server Client]
    A dedicated client for third party servers.
    Notable features are that a single instance should handle multiple users' accounts.
    Since large data amounts are to be expected, the server client will be capable of integrating the Hadoop distributed file system to directly support that.
\end{description}

TODO: Maybe I should also specifically list what Tinzenite won't be... ?
For example: what about the ability to publicly share something?
How can we support this without breaking security?

\subsection{Scope}

In this brief section we will go through the exact scope that this work is to fulfill.

\begin{description}[leftmargin=2em,style=nextline,noitemsep,nolistsep]
\item[MUST have]
    These features are required for the thesis to be considered basically successful.
    This means that the basic fundamentals of the proposed complete scope have been met and are in working order.
    Specifically this includes a fully working computer client based on a specified API on which all future work can be built on.
    This client must offer the basics required to get the system to work in a user friendly manner from setup through daily usage.
    Data transfer between multiple clients must work as expected with collision detection and correct version iteration upon updates.
\item[SHOULD have]
    Features in this category are features that built on the MUST have features and are thus not strictly required.
    In broad terms this includes two important aspects.
    First and foremost is the capability of having a client that only retains an encrypted version of the data.
    Built on this the second aspect is the server client that only ever retains an encrypted data set.
    The server also adds the capability of handling multiple users' data on a distributed file system capable of handling the large data size that are to be expected for multiple concurrent users.
    Further aspects that fall under the SHOULD have category are delta data updates and automatic key management for encrypted clients.
\item[COULD have]
    These features are features that will only be implemented if all previous features have been successfully integrated.
    They are not required for the thesis to be considered overly successful but would be nice to have to fully complete the proposed scope.
    Primary aspects that would be added in this phase are a mobile client, most likely as an application for Android, and a web interface for accessing encrypted server clients.
    A further smaller aspect would be shadow file capabilities so that data can be selectively synchronized on constrained devices, specifically mobile devices for example.
\end{description}

\section{Dependencies}

This section briefly highlights the technologies we chose to support our work.
These range from software solutions to data organization standards.

\subsection{Tox}

TODO: list, explain

\subsection{Golang}

TODO: list, explain

\subsection{Hadoop}

TODO: list, explain

\subsection{JSON}

TODO: list, explain

\section{Software Scope}

TODO: section for listing actual conceptual work I'll have to do before starting implementation.
Also consider implementing a working but "quiet" client – no file transfers but reads out communications.

\subsection{Core Application Library}

TODO: all the core logic should be strictly kept separate from the user side of the software.
The library will encapsulate the JSON communication and states of said API.
Clients will have to register hocks for incoming updates, files, and notify the library of updated (delta) files.

To keep development of clients as easy as possible while at the same time keeping the API consisten between them we will separate the core logic for Tinzenite from any user oriented code.
Therefore the library will encapsulate the Toxcore library and build on it the core features required for clients to work.
This means that we will have to define a library API for interfacing with it.
The library will not handle writing or reading data from the user's disk: these capabilities will be offloaded to the implementation of the client programs.
This will ensure a maximum of adaptability for clients, meaning that they will not be constrained by the cross platform capabilities of the library itself.
%TODO of course, Toxcore might pose a problem here... :P

\begin{table}[H]
\centering
%TODO clean table formatting for use everywhere... :P
\begin{tabulary}{\textwidth}{p{2.5cm} || J}
	Initialize & Prepares Tinzenite and starts the underlying libraries, notably connects to the Tox network. Note that once initialized, files will be sent and written immediately. Settings and options must be handed over on initialization.\\
	\hline
    Register Callbacks & Given object will be called for all callbacks.\\
    %TODO: what callbacks should be specificed? register for all should be an option, but registering for any should be possible too!
\end{tabulary}
\caption[Tinzenite Library API]{Methods for accessing the Tinzenite library.}
\label{table:lib:api}
\end{table}

TODO: What about helper functions?
Should be cleanly separate too.
Notably probably includes delta of files, ...?, etc.

\subsection{Client Peer}

TODO: list and explain features of basic computer client (how to connect peers, how to encrypt), remember that usability is important.
Features: password protected everything as with TextSecure?
Visibility of operations is important.
Will also need to put some thought into support of shadow files – what exactly are they and what happens when I click on one?

\subsection{Server Peer}

TODO: write that basically encrypted peer that can handle multiple accounts, stores data via Hadoop.
Future work could include web client – should I add this here too?

\subsection{Mobile Peer}

TODO: write that App, add shadow file feature

\section{Security Considerations}

TODO: place all the security stuff here...
Also note how security has been implemented throughout the concept.
If I place it here I won't have to reexplain it in the architecture chapter.
